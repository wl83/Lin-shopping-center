{"version":3,"sources":["webpack:///./node_modules/vant/es/mixins/close-on-popstate.js","webpack:///./node_modules/vant/es/cell-group/style/index.js","webpack:///./node_modules/vant/es/swipe-item/index.js","webpack:///./node_modules/vant/es/cell-group/index.js","webpack:///./node_modules/vant/es/utils/dom/raf.js","webpack:///./node_modules/vant/es/utils/format/number.js","webpack:///./node_modules/vant/es/swipe/index.js","webpack:///./node_modules/vant/es/mixins/bind-event.js","webpack:///./node_modules/vant/es/uploader/utils.js","webpack:///./node_modules/vant/es/image-preview/ImagePreview.js","webpack:///./node_modules/vant/es/image-preview/index.js","webpack:///./node_modules/vant/es/uploader/index.js","webpack:///./node_modules/vant/es/uploader/style/index.js"],"names":["CloseOnPopstateMixin","extend","mixins","bind","isBind","this","handlePopstate","closeOnPopstate","props","Boolean","data","bindStatus","watch","val","methods","$isServer","action","window","close","_createNamespace","createComponent","bem","offset","beforeCreate","$parent","swipes","push","destroyed","splice","indexOf","render","h","arguments","_this$$parent","vertical","computedWidth","computedHeight","style","width","height","transform","$listeners","slots","CellGroup","ctx","_ref","Group","border","default","title","String","type","prev","Date","now","fallback","fn","curr","ms","Math","max","id","setTimeout","root","global","iRaf","requestAnimationFrame","cancelAnimationFrame","clearTimeout","raf","call","doubleRaf","range","num","min","onResize","initialize","clear","Number","autoplay","indicatorColor","loop","duration","touchable","initialSwipe","showIndicators","active","deltaX","deltaY","swiping","_autoplay","autoPlay","computed","count","length","delta","size","trackSize","activeIndicator","isCorrectDirection","expect","direction","trackStyle","mainAxis","crossAxis","transitionDuration","indicatorStyle","backgroundColor","minOffset","rect","$el","getBoundingClientRect","timer","forEach","swipe","onTouchStart","event","touchStart","correctPosition","onTouchMove","touchMove","move","onTouchEnd","offsetY","offsetX","pace","emitChange","getTargetActive","getTargetOffset","targetActive","currentPosition","targetOffset","round","_ref2","_ref2$pace","_ref2$offset","outRightBound","outLeftBound","$emit","swipeTo","index","options","_this","resetTouchStatus","immediate","_this2","renderIndicator","_this3","$createElement","slot","Array","apply","map","empty","BindEventMixin","handler","binded","unbind","mounted","activated","deactivated","beforeDestroy","toArray","item","isArray","file","resultType","Promise","resolve","reader","FileReader","onload","target","result","readAsDataURL","readAsText","isOversize","files","maxSize","some","IMAGE_REGEXP","isImageUrl","url","test","isImageFile","isImage","content","create","getDistance","touches","sqrt","pow","clientX","clientY","instance","className","lazyLoad","asyncClose","images","swipeDuration","overlay","showIndex","startPosition","minZoom","maxZoom","overlayClass","closeOnClickOverlay","scale","moveX","moveY","moving","zooming","doubleClickTimer","imageStyle","value","setActive","onWrapperTouchStart","touchStartTime","onWrapperTouchEnd","deltaTime","$refs","_ref$offsetX","_ref$offsetY","toggleScale","startMove","image","currentTarget","winWidth","innerWidth","winHeight","innerHeight","startMoveX","startMoveY","maxMoveX","maxMoveY","startZoom","startScale","startDistance","onImageTouchStart","_ref2$offsetX","onImageTouchMove","distance","onImageTouchEnd","stopPropagation","resetScale","genIndex","genImages","imageSlots","loading","defaultConfig","onClose","onChange","el","document","createElement","body","appendChild","$on","$once","show","install","use","inheritAttrs","model","prop","disabled","uploadText","afterRead","Function","beforeRead","beforeDelete","previewSize","name","accept","fileList","MAX_VALUE","maxCount","previewImage","previewFullImage","imageFit","previewSizeWithUnit","getDetail","slice","response","resetInput","then","readFile","catch","oversize","all","contents","onAfterRead","concat","onDelete","deleteFile","input","onPreviewImage","_this4","imageFiles","filter","renderPreviewItem","_this5","DeleteIcon","Preview","renderPreviewList","renderUpload","Input","$attrs"],"mappings":"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","file":"js/chunk-f4172ef2.315a58c7.js","sourcesContent":["import Vue from 'vue';\nimport { on, off } from '../utils/dom/event';\nimport { BindEventMixin } from './bind-event';\nexport var CloseOnPopstateMixin = Vue.extend({\n  mixins: [BindEventMixin(function (bind, isBind) {\n    this.handlePopstate(isBind && this.closeOnPopstate);\n  })],\n  props: {\n    closeOnPopstate: Boolean\n  },\n  data: function data() {\n    return {\n      bindStatus: false\n    };\n  },\n  watch: {\n    closeOnPopstate: function closeOnPopstate(val) {\n      this.handlePopstate(val);\n    }\n  },\n  methods: {\n    handlePopstate: function handlePopstate(bind) {\n      /* istanbul ignore if */\n      if (this.$isServer) {\n        return;\n      }\n\n      if (this.bindStatus !== bind) {\n        this.bindStatus = bind;\n        var action = bind ? on : off;\n        action(window, 'popstate', this.close);\n      }\n    }\n  }\n});","import '../../style/base.css';","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createNamespace } from '../utils';\n\nvar _createNamespace = createNamespace('swipe-item'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  data: function data() {\n    return {\n      offset: 0\n    };\n  },\n  beforeCreate: function beforeCreate() {\n    this.$parent.swipes.push(this);\n  },\n  destroyed: function destroyed() {\n    this.$parent.swipes.splice(this.$parent.swipes.indexOf(this), 1);\n  },\n  render: function render() {\n    var h = arguments[0];\n    var _this$$parent = this.$parent,\n        vertical = _this$$parent.vertical,\n        computedWidth = _this$$parent.computedWidth,\n        computedHeight = _this$$parent.computedHeight;\n    var style = {\n      width: computedWidth + 'px',\n      height: vertical ? computedHeight + 'px' : '100%',\n      transform: \"translate\" + (vertical ? 'Y' : 'X') + \"(\" + this.offset + \"px)\"\n    };\n    return h(\"div\", {\n      \"class\": bem(),\n      \"style\": style,\n      \"on\": _extends({}, this.$listeners)\n    }, [this.slots()]);\n  }\n});","import _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport { createNamespace } from '../utils';\nimport { inherit } from '../utils/functional';\nimport { BORDER_TOP_BOTTOM } from '../utils/constant'; // Types\n\nvar _createNamespace = createNamespace('cell-group'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction CellGroup(h, props, slots, ctx) {\n  var _ref;\n\n  var Group = h(\"div\", _mergeJSXProps([{\n    \"class\": [bem(), (_ref = {}, _ref[BORDER_TOP_BOTTOM] = props.border, _ref)]\n  }, inherit(ctx, true)]), [slots.default && slots.default()]);\n\n  if (props.title || slots.title) {\n    return h(\"div\", [h(\"div\", {\n      \"class\": bem('title')\n    }, [slots.title ? slots.title() : props.title]), Group]);\n  }\n\n  return Group;\n}\n\nCellGroup.props = {\n  title: String,\n  border: {\n    type: Boolean,\n    default: true\n  }\n};\nexport default createComponent(CellGroup);","/**\n * requestAnimationFrame polyfill\n */\nimport { isServer } from '..';\nvar prev = Date.now();\n/* istanbul ignore next */\n\nfunction fallback(fn) {\n  var curr = Date.now();\n  var ms = Math.max(0, 16 - (curr - prev));\n  var id = setTimeout(fn, ms);\n  prev = curr + ms;\n  return id;\n}\n/* istanbul ignore next */\n\n\nvar root = isServer ? global : window;\n/* istanbul ignore next */\n\nvar iRaf = root.requestAnimationFrame || fallback;\n/* istanbul ignore next */\n\nvar iCancel = root.cancelAnimationFrame || root.clearTimeout;\nexport function raf(fn) {\n  return iRaf.call(root, fn);\n} // double raf for animation\n\nexport function doubleRaf(fn) {\n  raf(function () {\n    raf(fn);\n  });\n}\nexport function cancelRaf(id) {\n  iCancel.call(root, id);\n}","export function range(num, min, max) {\n  return Math.min(Math.max(num, min), max);\n}","import { createNamespace } from '../utils';\nimport { preventDefault } from '../utils/dom/event';\nimport { TouchMixin } from '../mixins/touch';\nimport { BindEventMixin } from '../mixins/bind-event';\nimport { doubleRaf } from '../utils/dom/raf';\nimport { range } from '../utils/format/number';\n\nvar _createNamespace = createNamespace('swipe'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [TouchMixin, BindEventMixin(function (bind, isBind) {\n    bind(window, 'resize', this.onResize, true);\n\n    if (isBind) {\n      this.initialize();\n    } else {\n      this.clear();\n    }\n  })],\n  props: {\n    width: Number,\n    height: Number,\n    autoplay: Number,\n    vertical: Boolean,\n    indicatorColor: String,\n    loop: {\n      type: Boolean,\n      default: true\n    },\n    duration: {\n      type: Number,\n      default: 500\n    },\n    touchable: {\n      type: Boolean,\n      default: true\n    },\n    initialSwipe: {\n      type: Number,\n      default: 0\n    },\n    showIndicators: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      computedWidth: 0,\n      computedHeight: 0,\n      offset: 0,\n      active: 0,\n      deltaX: 0,\n      deltaY: 0,\n      swipes: [],\n      swiping: false\n    };\n  },\n  watch: {\n    swipes: function swipes() {\n      this.initialize();\n    },\n    initialSwipe: function initialSwipe() {\n      this.initialize();\n    },\n    autoplay: function autoplay(_autoplay) {\n      if (!_autoplay) {\n        this.clear();\n      } else {\n        this.autoPlay();\n      }\n    }\n  },\n  computed: {\n    count: function count() {\n      return this.swipes.length;\n    },\n    delta: function delta() {\n      return this.vertical ? this.deltaY : this.deltaX;\n    },\n    size: function size() {\n      return this[this.vertical ? 'computedHeight' : 'computedWidth'];\n    },\n    trackSize: function trackSize() {\n      return this.count * this.size;\n    },\n    activeIndicator: function activeIndicator() {\n      return (this.active + this.count) % this.count;\n    },\n    isCorrectDirection: function isCorrectDirection() {\n      var expect = this.vertical ? 'vertical' : 'horizontal';\n      return this.direction === expect;\n    },\n    trackStyle: function trackStyle() {\n      var _ref;\n\n      var mainAxis = this.vertical ? 'height' : 'width';\n      var crossAxis = this.vertical ? 'width' : 'height';\n      return _ref = {}, _ref[mainAxis] = this.trackSize + \"px\", _ref[crossAxis] = this[crossAxis] ? this[crossAxis] + \"px\" : '', _ref.transitionDuration = (this.swiping ? 0 : this.duration) + \"ms\", _ref.transform = \"translate\" + (this.vertical ? 'Y' : 'X') + \"(\" + this.offset + \"px)\", _ref;\n    },\n    indicatorStyle: function indicatorStyle() {\n      return {\n        backgroundColor: this.indicatorColor\n      };\n    },\n    minOffset: function minOffset() {\n      var rect = this.$el.getBoundingClientRect();\n      return (this.vertical ? rect.height : rect.width) - this.size * this.count;\n    }\n  },\n  methods: {\n    // initialize swipe position\n    initialize: function initialize(active) {\n      if (active === void 0) {\n        active = this.initialSwipe;\n      }\n\n      clearTimeout(this.timer);\n\n      if (this.$el) {\n        var rect = this.$el.getBoundingClientRect();\n        this.computedWidth = this.width || rect.width;\n        this.computedHeight = this.height || rect.height;\n      }\n\n      this.swiping = true;\n      this.active = active;\n      this.offset = this.count > 1 ? -this.size * this.active : 0;\n      this.swipes.forEach(function (swipe) {\n        swipe.offset = 0;\n      });\n      this.autoPlay();\n    },\n    onResize: function onResize() {\n      this.initialize(this.activeIndicator);\n    },\n    onTouchStart: function onTouchStart(event) {\n      if (!this.touchable) return;\n      this.clear();\n      this.swiping = true;\n      this.touchStart(event);\n      this.correctPosition();\n    },\n    onTouchMove: function onTouchMove(event) {\n      if (!this.touchable || !this.swiping) return;\n      this.touchMove(event);\n\n      if (this.isCorrectDirection) {\n        preventDefault(event, true);\n        this.move({\n          offset: this.delta\n        });\n      }\n    },\n    onTouchEnd: function onTouchEnd() {\n      if (!this.touchable || !this.swiping) return;\n\n      if (this.delta && this.isCorrectDirection) {\n        var offset = this.vertical ? this.offsetY : this.offsetX;\n        this.move({\n          pace: offset > 0 ? this.delta > 0 ? -1 : 1 : 0,\n          emitChange: true\n        });\n      }\n\n      this.swiping = false;\n      this.autoPlay();\n    },\n    getTargetActive: function getTargetActive(pace) {\n      var active = this.active,\n          count = this.count;\n\n      if (pace) {\n        if (this.loop) {\n          return range(active + pace, -1, count);\n        }\n\n        return range(active + pace, 0, count - 1);\n      }\n\n      return active;\n    },\n    getTargetOffset: function getTargetOffset(targetActive, offset) {\n      var currentPosition = targetActive * this.size;\n\n      if (!this.loop) {\n        currentPosition = Math.min(currentPosition, -this.minOffset);\n      }\n\n      var targetOffset = Math.round(offset - currentPosition);\n\n      if (!this.loop) {\n        targetOffset = range(targetOffset, this.minOffset, 0);\n      }\n\n      return targetOffset;\n    },\n    move: function move(_ref2) {\n      var _ref2$pace = _ref2.pace,\n          pace = _ref2$pace === void 0 ? 0 : _ref2$pace,\n          _ref2$offset = _ref2.offset,\n          offset = _ref2$offset === void 0 ? 0 : _ref2$offset,\n          emitChange = _ref2.emitChange;\n      var loop = this.loop,\n          count = this.count,\n          active = this.active,\n          swipes = this.swipes,\n          trackSize = this.trackSize,\n          minOffset = this.minOffset;\n\n      if (count <= 1) {\n        return;\n      }\n\n      var targetActive = this.getTargetActive(pace);\n      var targetOffset = this.getTargetOffset(targetActive, offset); // auto move first and last swipe in loop mode\n\n      if (loop) {\n        if (swipes[0]) {\n          var outRightBound = targetOffset < minOffset;\n          swipes[0].offset = outRightBound ? trackSize : 0;\n        }\n\n        if (swipes[count - 1]) {\n          var outLeftBound = targetOffset > 0;\n          swipes[count - 1].offset = outLeftBound ? -trackSize : 0;\n        }\n      }\n\n      this.active = targetActive;\n      this.offset = targetOffset;\n\n      if (emitChange && targetActive !== active) {\n        this.$emit('change', this.activeIndicator);\n      }\n    },\n    swipeTo: function swipeTo(index, options) {\n      var _this = this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      this.swiping = true;\n      this.resetTouchStatus();\n      this.correctPosition();\n      doubleRaf(function () {\n        _this.move({\n          pace: index % _this.count - _this.active,\n          emitChange: true\n        });\n\n        if (options.immediate) {\n          doubleRaf(function () {\n            _this.swiping = false;\n          });\n        } else {\n          _this.swiping = false;\n        }\n      });\n    },\n    correctPosition: function correctPosition() {\n      if (this.active <= -1) {\n        this.move({\n          pace: this.count\n        });\n      }\n\n      if (this.active >= this.count) {\n        this.move({\n          pace: -this.count\n        });\n      }\n    },\n    clear: function clear() {\n      clearTimeout(this.timer);\n    },\n    autoPlay: function autoPlay() {\n      var _this2 = this;\n\n      var autoplay = this.autoplay;\n\n      if (autoplay && this.count > 1) {\n        this.clear();\n        this.timer = setTimeout(function () {\n          _this2.swiping = true;\n\n          _this2.resetTouchStatus();\n\n          _this2.correctPosition();\n\n          doubleRaf(function () {\n            _this2.swiping = false;\n\n            _this2.move({\n              pace: 1,\n              emitChange: true\n            });\n\n            _this2.autoPlay();\n          });\n        }, autoplay);\n      }\n    },\n    renderIndicator: function renderIndicator() {\n      var _this3 = this;\n\n      var h = this.$createElement;\n      var count = this.count,\n          activeIndicator = this.activeIndicator;\n      var slot = this.slots('indicator');\n\n      if (slot) {\n        return slot;\n      }\n\n      if (this.showIndicators && count > 1) {\n        return h(\"div\", {\n          \"class\": bem('indicators', {\n            vertical: this.vertical\n          })\n        }, [Array.apply(void 0, Array(count)).map(function (empty, index) {\n          return h(\"i\", {\n            \"class\": bem('indicator', {\n              active: index === activeIndicator\n            }),\n            \"style\": index === activeIndicator ? _this3.indicatorStyle : null\n          });\n        })]);\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"ref\": \"track\",\n      \"style\": this.trackStyle,\n      \"class\": bem('track'),\n      \"on\": {\n        \"touchstart\": this.onTouchStart,\n        \"touchmove\": this.onTouchMove,\n        \"touchend\": this.onTouchEnd,\n        \"touchcancel\": this.onTouchEnd\n      }\n    }, [this.slots()]), this.renderIndicator()]);\n  }\n});","/**\n * Bind event when mounted or activated\n */\nimport { on, off } from '../utils/dom/event';\nexport function BindEventMixin(handler) {\n  function bind() {\n    if (!this.binded) {\n      handler.call(this, on, true);\n      this.binded = true;\n    }\n  }\n\n  function unbind() {\n    if (this.binded) {\n      handler.call(this, off, false);\n      this.binded = false;\n    }\n  }\n\n  return {\n    mounted: bind,\n    activated: bind,\n    deactivated: unbind,\n    beforeDestroy: unbind\n  };\n}","export function toArray(item) {\n  if (Array.isArray(item)) {\n    return item;\n  }\n\n  return [item];\n}\nexport function readFile(file, resultType) {\n  return new Promise(function (resolve) {\n    var reader = new FileReader();\n\n    reader.onload = function (event) {\n      resolve(event.target.result);\n    };\n\n    if (resultType === 'dataUrl') {\n      reader.readAsDataURL(file);\n    } else if (resultType === 'text') {\n      reader.readAsText(file);\n    }\n  });\n}\nexport function isOversize(files, maxSize) {\n  return toArray(files).some(function (file) {\n    return file.size > maxSize;\n  });\n}\nvar IMAGE_REGEXP = /\\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;\nexport function isImageUrl(url) {\n  return IMAGE_REGEXP.test(url);\n}\nexport function isImageFile(item) {\n  // some special urls cannot be recognized\n  // user can add `isImage` flag to mark it as an image url\n  if (item.isImage) {\n    return true;\n  }\n\n  if (item.file && item.file.type) {\n    return item.file.type.indexOf('image') === 0;\n  }\n\n  if (item.url) {\n    return isImageUrl(item.url);\n  }\n\n  if (item.content) {\n    return item.content.indexOf('data:image') === 0;\n  }\n\n  return false;\n}","import { createNamespace } from '../utils';\nimport { range } from '../utils/format/number';\nimport { preventDefault } from '../utils/dom/event';\nimport { PopupMixin } from '../mixins/popup';\nimport { TouchMixin } from '../mixins/touch';\nimport { CloseOnPopstateMixin } from '../mixins/close-on-popstate';\nimport Image from '../image';\nimport Loading from '../loading';\nimport Swipe from '../swipe';\nimport SwipeItem from '../swipe-item';\n\nvar _createNamespace = createNamespace('image-preview'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction getDistance(touches) {\n  return Math.sqrt(Math.pow(touches[0].clientX - touches[1].clientX, 2) + Math.pow(touches[0].clientY - touches[1].clientY, 2));\n}\n\nexport default createComponent({\n  mixins: [PopupMixin, TouchMixin, CloseOnPopstateMixin],\n  props: {\n    className: null,\n    lazyLoad: Boolean,\n    asyncClose: Boolean,\n    showIndicators: Boolean,\n    images: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    loop: {\n      type: Boolean,\n      default: true\n    },\n    swipeDuration: {\n      type: Number,\n      default: 500\n    },\n    overlay: {\n      type: Boolean,\n      default: true\n    },\n    showIndex: {\n      type: Boolean,\n      default: true\n    },\n    startPosition: {\n      type: Number,\n      default: 0\n    },\n    minZoom: {\n      type: Number,\n      default: 1 / 3\n    },\n    maxZoom: {\n      type: Number,\n      default: 3\n    },\n    overlayClass: {\n      type: String,\n      default: bem('overlay')\n    },\n    closeOnClickOverlay: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    this.bindStatus = false;\n    return {\n      scale: 1,\n      moveX: 0,\n      moveY: 0,\n      moving: false,\n      zooming: false,\n      active: 0,\n      doubleClickTimer: null\n    };\n  },\n  computed: {\n    imageStyle: function imageStyle() {\n      var scale = this.scale;\n      var style = {\n        transitionDuration: this.zooming || this.moving ? '0s' : '.3s'\n      };\n\n      if (scale !== 1) {\n        style.transform = \"scale3d(\" + scale + \", \" + scale + \", 1) translate(\" + this.moveX / scale + \"px, \" + this.moveY / scale + \"px)\";\n      }\n\n      return style;\n    }\n  },\n  watch: {\n    value: function value() {\n      this.setActive(this.startPosition);\n    },\n    startPosition: function startPosition(active) {\n      this.setActive(active);\n    }\n  },\n  methods: {\n    onWrapperTouchStart: function onWrapperTouchStart() {\n      this.touchStartTime = new Date();\n    },\n    onWrapperTouchEnd: function onWrapperTouchEnd(event) {\n      var _this = this;\n\n      preventDefault(event);\n      var deltaTime = new Date() - this.touchStartTime;\n\n      var _ref = this.$refs.swipe || {},\n          _ref$offsetX = _ref.offsetX,\n          offsetX = _ref$offsetX === void 0 ? 0 : _ref$offsetX,\n          _ref$offsetY = _ref.offsetY,\n          offsetY = _ref$offsetY === void 0 ? 0 : _ref$offsetY; // prevent long tap to close component\n\n\n      if (deltaTime < 300 && offsetX < 10 && offsetY < 10) {\n        if (!this.doubleClickTimer) {\n          this.doubleClickTimer = setTimeout(function () {\n            var index = _this.active;\n\n            _this.$emit('close', {\n              index: index,\n              url: _this.images[index]\n            });\n\n            if (!_this.asyncClose) {\n              _this.$emit('input', false);\n            }\n\n            _this.doubleClickTimer = null;\n          }, 300);\n        } else {\n          clearTimeout(this.doubleClickTimer);\n          this.doubleClickTimer = null;\n          this.toggleScale();\n        }\n      }\n    },\n    startMove: function startMove(event) {\n      var image = event.currentTarget;\n      var rect = image.getBoundingClientRect();\n      var winWidth = window.innerWidth;\n      var winHeight = window.innerHeight;\n      this.touchStart(event);\n      this.moving = true;\n      this.startMoveX = this.moveX;\n      this.startMoveY = this.moveY;\n      this.maxMoveX = Math.max(0, (rect.width - winWidth) / 2);\n      this.maxMoveY = Math.max(0, (rect.height - winHeight) / 2);\n    },\n    startZoom: function startZoom(event) {\n      this.moving = false;\n      this.zooming = true;\n      this.startScale = this.scale;\n      this.startDistance = getDistance(event.touches);\n    },\n    onImageTouchStart: function onImageTouchStart(event) {\n      var touches = event.touches;\n\n      var _ref2 = this.$refs.swipe || {},\n          _ref2$offsetX = _ref2.offsetX,\n          offsetX = _ref2$offsetX === void 0 ? 0 : _ref2$offsetX;\n\n      if (touches.length === 1 && this.scale !== 1) {\n        this.startMove(event);\n      }\n      /* istanbul ignore else */\n      else if (touches.length === 2 && !offsetX) {\n          this.startZoom(event);\n        }\n    },\n    onImageTouchMove: function onImageTouchMove(event) {\n      var touches = event.touches;\n\n      if (this.moving || this.zooming) {\n        preventDefault(event, true);\n      }\n\n      if (this.moving) {\n        this.touchMove(event);\n        var moveX = this.deltaX + this.startMoveX;\n        var moveY = this.deltaY + this.startMoveY;\n        this.moveX = range(moveX, -this.maxMoveX, this.maxMoveX);\n        this.moveY = range(moveY, -this.maxMoveY, this.maxMoveY);\n      }\n\n      if (this.zooming && touches.length === 2) {\n        var distance = getDistance(touches);\n        var scale = this.startScale * distance / this.startDistance;\n        this.scale = range(scale, this.minZoom, this.maxZoom);\n      }\n    },\n    onImageTouchEnd: function onImageTouchEnd(event) {\n      /* istanbul ignore else */\n      if (this.moving || this.zooming) {\n        var stopPropagation = true;\n\n        if (this.moving && this.startMoveX === this.moveX && this.startMoveY === this.moveY) {\n          stopPropagation = false;\n        }\n\n        if (!event.touches.length) {\n          this.moving = false;\n          this.zooming = false;\n          this.startMoveX = 0;\n          this.startMoveY = 0;\n          this.startScale = 1;\n\n          if (this.scale < 1) {\n            this.resetScale();\n          }\n        }\n\n        if (stopPropagation) {\n          preventDefault(event, true);\n        }\n      }\n    },\n    setActive: function setActive(active) {\n      this.resetScale();\n\n      if (active !== this.active) {\n        this.active = active;\n        this.$emit('change', active);\n      }\n    },\n    resetScale: function resetScale() {\n      this.scale = 1;\n      this.moveX = 0;\n      this.moveY = 0;\n    },\n    toggleScale: function toggleScale() {\n      var scale = this.scale > 1 ? 1 : 2;\n      this.scale = scale;\n      this.moveX = 0;\n      this.moveY = 0;\n    },\n    genIndex: function genIndex() {\n      var h = this.$createElement;\n\n      if (this.showIndex) {\n        return h(\"div\", {\n          \"class\": bem('index')\n        }, [this.slots('index') || this.active + 1 + \"/\" + this.images.length]);\n      }\n    },\n    genImages: function genImages() {\n      var _this2 = this;\n\n      var h = this.$createElement;\n      var imageSlots = {\n        loading: function loading() {\n          return h(Loading, {\n            \"attrs\": {\n              \"type\": \"spinner\"\n            }\n          });\n        }\n      };\n      return h(Swipe, {\n        \"ref\": \"swipe\",\n        \"attrs\": {\n          \"loop\": this.loop,\n          \"duration\": this.swipeDuration,\n          \"indicatorColor\": \"white\",\n          \"initialSwipe\": this.startPosition,\n          \"showIndicators\": this.showIndicators\n        },\n        \"on\": {\n          \"change\": this.setActive\n        }\n      }, [this.images.map(function (image, index) {\n        return h(SwipeItem, [h(Image, {\n          \"attrs\": {\n            \"src\": image,\n            \"fit\": \"contain\",\n            \"lazyLoad\": _this2.lazyLoad\n          },\n          \"class\": bem('image'),\n          \"scopedSlots\": imageSlots,\n          \"style\": index === _this2.active ? _this2.imageStyle : null,\n          \"nativeOn\": {\n            \"touchstart\": _this2.onImageTouchStart,\n            \"touchmove\": _this2.onImageTouchMove,\n            \"touchend\": _this2.onImageTouchEnd,\n            \"touchcancel\": _this2.onImageTouchEnd\n          }\n        })]);\n      })]);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n\n    if (!this.value) {\n      return;\n    }\n\n    return h(\"transition\", {\n      \"attrs\": {\n        \"name\": \"van-fade\"\n      }\n    }, [h(\"div\", {\n      \"class\": [bem(), this.className],\n      \"on\": {\n        \"touchstart\": this.onWrapperTouchStart,\n        \"touchMove\": preventDefault,\n        \"touchend\": this.onWrapperTouchEnd,\n        \"touchcancel\": this.onWrapperTouchEnd\n      }\n    }, [this.genImages(), this.genIndex()])]);\n  }\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Vue from 'vue';\nimport VueImagePreview from './ImagePreview';\nimport { isServer } from '../utils';\nvar instance;\nvar defaultConfig = {\n  images: [],\n  loop: true,\n  swipeDuration: 500,\n  value: true,\n  minZoom: 1 / 3,\n  maxZoom: 3,\n  className: '',\n  onClose: null,\n  onChange: null,\n  lazyLoad: false,\n  showIndex: true,\n  asyncClose: false,\n  startPosition: 0,\n  showIndicators: false,\n  closeOnPopstate: false\n};\n\nvar initInstance = function initInstance() {\n  instance = new (Vue.extend(VueImagePreview))({\n    el: document.createElement('div')\n  });\n  document.body.appendChild(instance.$el);\n  instance.$on('change', function (index) {\n    if (instance.onChange) {\n      instance.onChange(index);\n    }\n  });\n};\n\nvar ImagePreview = function ImagePreview(images, startPosition) {\n  if (startPosition === void 0) {\n    startPosition = 0;\n  }\n\n  /* istanbul ignore if */\n  if (isServer) {\n    return;\n  }\n\n  if (!instance) {\n    initInstance();\n  }\n\n  var options = Array.isArray(images) ? {\n    images: images,\n    startPosition: startPosition\n  } : images;\n\n  _extends(instance, defaultConfig, options);\n\n  instance.$once('input', function (show) {\n    instance.value = show;\n  });\n\n  if (options.onClose) {\n    instance.$once('close', options.onClose);\n  }\n\n  return instance;\n};\n\nImagePreview.install = function () {\n  Vue.use(VueImagePreview);\n};\n\nexport default ImagePreview;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createNamespace, addUnit, noop } from '../utils';\nimport { toArray, readFile as _readFile, isOversize, isImageFile } from './utils';\nimport Icon from '../icon';\nimport Image from '../image';\nimport ImagePreview from '../image-preview';\n\nvar _createNamespace = createNamespace('uploader'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  inheritAttrs: false,\n  model: {\n    prop: 'fileList'\n  },\n  props: {\n    disabled: Boolean,\n    uploadText: String,\n    afterRead: Function,\n    beforeRead: Function,\n    beforeDelete: Function,\n    previewSize: [Number, String],\n    name: {\n      type: [Number, String],\n      default: ''\n    },\n    accept: {\n      type: String,\n      default: 'image/*'\n    },\n    fileList: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    maxSize: {\n      type: Number,\n      default: Number.MAX_VALUE\n    },\n    maxCount: {\n      type: Number,\n      default: Number.MAX_VALUE\n    },\n    previewImage: {\n      type: Boolean,\n      default: true\n    },\n    previewFullImage: {\n      type: Boolean,\n      default: true\n    },\n    imageFit: {\n      type: String,\n      default: 'cover'\n    },\n    resultType: {\n      type: String,\n      default: 'dataUrl'\n    }\n  },\n  computed: {\n    previewSizeWithUnit: function previewSizeWithUnit() {\n      return addUnit(this.previewSize);\n    }\n  },\n  methods: {\n    getDetail: function getDetail(index) {\n      if (index === void 0) {\n        index = this.fileList.length;\n      }\n\n      return {\n        name: this.name,\n        index: index\n      };\n    },\n    onChange: function onChange(event) {\n      var _this = this;\n\n      var files = event.target.files;\n\n      if (this.disabled || !files.length) {\n        return;\n      }\n\n      files = files.length === 1 ? files[0] : [].slice.call(files);\n\n      if (this.beforeRead) {\n        var response = this.beforeRead(files, this.getDetail());\n\n        if (!response) {\n          this.resetInput();\n          return;\n        }\n\n        if (response.then) {\n          response.then(function () {\n            _this.readFile(files);\n          }).catch(this.resetInput);\n          return;\n        }\n      }\n\n      this.readFile(files);\n    },\n    readFile: function readFile(files) {\n      var _this2 = this;\n\n      var oversize = isOversize(files, this.maxSize);\n\n      if (Array.isArray(files)) {\n        var maxCount = this.maxCount - this.fileList.length;\n\n        if (files.length > maxCount) {\n          files = files.slice(0, maxCount);\n        }\n\n        Promise.all(files.map(function (file) {\n          return _readFile(file, _this2.resultType);\n        })).then(function (contents) {\n          var fileList = files.map(function (file, index) {\n            return {\n              file: file,\n              content: contents[index]\n            };\n          });\n\n          _this2.onAfterRead(fileList, oversize);\n        });\n      } else {\n        _readFile(files, this.resultType).then(function (content) {\n          _this2.onAfterRead({\n            file: files,\n            content: content\n          }, oversize);\n        });\n      }\n    },\n    onAfterRead: function onAfterRead(files, oversize) {\n      if (oversize) {\n        this.$emit('oversize', files, this.getDetail());\n        return;\n      }\n\n      this.resetInput();\n      this.$emit('input', [].concat(this.fileList, toArray(files)));\n\n      if (this.afterRead) {\n        this.afterRead(files, this.getDetail());\n      }\n    },\n    onDelete: function onDelete(file, index) {\n      var _this3 = this;\n\n      if (this.beforeDelete) {\n        var response = this.beforeDelete(file, this.getDetail(index));\n\n        if (!response) {\n          return;\n        }\n\n        if (response.then) {\n          response.then(function () {\n            _this3.deleteFile(file, index);\n          }).catch(noop);\n          return;\n        }\n      }\n\n      this.deleteFile(file, index);\n    },\n    deleteFile: function deleteFile(file, index) {\n      var fileList = this.fileList.slice(0);\n      fileList.splice(index, 1);\n      this.$emit('input', fileList);\n      this.$emit('delete', file, this.getDetail(index));\n    },\n    resetInput: function resetInput() {\n      /* istanbul ignore else */\n      if (this.$refs.input) {\n        this.$refs.input.value = '';\n      }\n    },\n    onPreviewImage: function onPreviewImage(item) {\n      var _this4 = this;\n\n      if (!this.previewFullImage) {\n        return;\n      }\n\n      var imageFiles = this.fileList.filter(function (item) {\n        return isImageFile(item);\n      }).map(function (item) {\n        return item.content || item.url;\n      });\n      ImagePreview({\n        images: imageFiles,\n        closeOnPopstate: true,\n        startPosition: imageFiles.indexOf(item.content || item.url),\n        onClose: function onClose() {\n          _this4.$emit('close-preview');\n        }\n      });\n    },\n    renderPreviewItem: function renderPreviewItem(item, index) {\n      var _this5 = this;\n\n      var h = this.$createElement;\n      var DeleteIcon = h(Icon, {\n        \"attrs\": {\n          \"name\": \"delete\"\n        },\n        \"class\": bem('preview-delete'),\n        \"on\": {\n          \"click\": function click(event) {\n            event.stopPropagation();\n\n            _this5.onDelete(item, index);\n          }\n        }\n      });\n      var Preview = isImageFile(item) ? h(Image, {\n        \"attrs\": {\n          \"fit\": this.imageFit,\n          \"src\": item.content || item.url,\n          \"width\": this.previewSize,\n          \"height\": this.previewSize\n        },\n        \"class\": bem('preview-image'),\n        \"on\": {\n          \"click\": function click() {\n            _this5.onPreviewImage(item);\n          }\n        }\n      }) : h(\"div\", {\n        \"class\": bem('file'),\n        \"style\": {\n          width: this.previewSizeWithUnit,\n          height: this.previewSizeWithUnit\n        }\n      }, [h(Icon, {\n        \"class\": bem('file-icon'),\n        \"attrs\": {\n          \"name\": \"description\"\n        }\n      }), h(\"div\", {\n        \"class\": [bem('file-name'), 'van-ellipsis']\n      }, [item.file ? item.file.name : item.url])]);\n      return h(\"div\", {\n        \"class\": bem('preview'),\n        \"on\": {\n          \"click\": function click() {\n            _this5.$emit('click-preview', item, _this5.getDetail(index));\n          }\n        }\n      }, [Preview, DeleteIcon]);\n    },\n    renderPreviewList: function renderPreviewList() {\n      if (this.previewImage) {\n        return this.fileList.map(this.renderPreviewItem);\n      }\n    },\n    renderUpload: function renderUpload() {\n      var h = this.$createElement;\n\n      if (this.fileList.length >= this.maxCount) {\n        return;\n      }\n\n      var slot = this.slots();\n      var Input = h(\"input\", {\n        \"attrs\": _extends({}, this.$attrs, {\n          \"type\": \"file\",\n          \"accept\": this.accept,\n          \"disabled\": this.disabled\n        }),\n        \"ref\": \"input\",\n        \"class\": bem('input'),\n        \"on\": {\n          \"change\": this.onChange\n        }\n      });\n\n      if (slot) {\n        return h(\"div\", {\n          \"class\": bem('input-wrapper')\n        }, [slot, Input]);\n      }\n\n      var style;\n\n      if (this.previewSize) {\n        var size = this.previewSizeWithUnit;\n        style = {\n          width: size,\n          height: size\n        };\n      }\n\n      return h(\"div\", {\n        \"class\": bem('upload'),\n        \"style\": style\n      }, [h(Icon, {\n        \"attrs\": {\n          \"name\": \"plus\"\n        },\n        \"class\": bem('upload-icon')\n      }), this.uploadText && h(\"span\", {\n        \"class\": bem('upload-text')\n      }, [this.uploadText]), Input]);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"class\": bem('wrapper')\n    }, [this.renderPreviewList(), this.renderUpload()])]);\n  }\n});","import '../../style/base.css';\nimport '../../image/index.css';\nimport '../../popup/index.css';\nimport '../../swipe/index.css';\nimport '../../swipe-item/index.css';\nimport '../../image-preview/index.css';\nimport '../index.css';"],"sourceRoot":""}