(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d193c05"],{"09d3":function(e,t,n){"use strict";n("68ef"),n("aec8")},"0fae":function(e,t,n){},1437:function(e,t,n){"use strict";var a=n("c31d"),i=n("d282"),s=n("a142"),o=n("b1d2"),r=n("4598"),c=n("7744"),l=n("dfaf"),d=n("9884"),u=Object(i["a"])("collapse-item"),h=u[0],p=u[1],f=["title","icon","right-icon"];t["a"]=h({mixins:[Object(d["a"])("vanCollapse")],props:Object(a["a"])({},l["a"],{name:[Number,String],disabled:Boolean,isLink:{type:Boolean,default:!0}}),data:function(){return{show:null,inited:null}},computed:{currentName:function(){return Object(s["b"])(this.name)?this.name:this.index},expanded:function(){var e=this;if(!this.parent)return null;var t=this.parent,n=t.value,a=t.accordion;return a?n===this.currentName:n.some((function(t){return t===e.currentName}))}},created:function(){this.show=this.expanded,this.inited=this.expanded},watch:{expanded:function(e,t){var n=this;if(null!==t){e&&(this.show=!0,this.inited=!0);var a=e?this.$nextTick:r["b"];a((function(){var t=n.$refs,a=t.content,i=t.wrapper;if(a&&i){var s=a.offsetHeight;if(s){var o=s+"px";i.style.height=e?0:o,Object(r["a"])((function(){i.style.height=e?o:0}))}else n.onTransitionEnd()}}))}}},methods:{onClick:function(){if(!this.disabled){var e=this.parent,t=e.accordion&&this.currentName===e.value?"":this.currentName;this.parent.switch(t,!this.expanded)}},onTransitionEnd:function(){this.expanded?this.$refs.wrapper.style.height="":this.show=!1}},render:function(){var e,t=this,n=arguments[0],i=this.disabled,s=this.expanded,r=f.reduce((function(e,n){return t.slots(n)&&(e[n]=function(){return t.slots(n)}),e}),{});this.slots("value")&&(r.default=function(){return t.slots("value")});var l=n(c["a"],{attrs:{role:"button",tabindex:i?-1:0,"aria-expanded":String(s)},class:p("title",{disabled:i,expanded:s}),on:{click:this.onClick},scopedSlots:r,props:Object(a["a"])({},this.$props)}),d=this.inited&&n("div",{directives:[{name:"show",value:this.show}],ref:"wrapper",class:p("wrapper"),on:{transitionend:this.onTransitionEnd}},[n("div",{ref:"content",class:p("content")},[this.slots()])]);return n("div",{class:[p(),(e={},e[o["e"]]=this.index,e)]},[l,d])}})},"2b28":function(e,t,n){"use strict";n("68ef"),n("7c7f")},"2d6d":function(e,t,n){"use strict";var a=n("d282"),i=n("b1d2"),s=n("9884"),o=n("b222"),r=Object(a["a"])("dropdown-menu"),c=r[0],l=r[1];t["a"]=c({mixins:[Object(s["b"])("vanDropdownMenu"),Object(o["a"])({event:"click",method:"onClickOutside"})],props:{activeColor:String,overlay:{type:Boolean,default:!0},zIndex:{type:Number,default:10},duration:{type:Number,default:.2},direction:{type:String,default:"down"},closeOnClickOverlay:{type:Boolean,default:!0}},data:function(){return{offset:0}},methods:{updateOffset:function(){var e=this.$refs.menu,t=e.getBoundingClientRect();"down"===this.direction?this.offset=t.bottom:this.offset=window.innerHeight-t.top},toggleItem:function(e){this.children.forEach((function(t,n){n===e?t.toggle():t.showPopup&&t.toggle(!1,{immediate:!0})}))},onClickOutside:function(){this.children.forEach((function(e){e.toggle(!1)}))}},render:function(){var e=this,t=arguments[0],n=this.children.map((function(n,a){return t("div",{attrs:{role:"button",tabindex:n.disabled?-1:0},class:l("item",{disabled:n.disabled}),on:{click:function(){n.disabled||e.toggleItem(a)}}},[t("span",{class:[l("title",{active:n.showPopup,down:n.showPopup===("down"===e.direction)}),n.titleClass],style:{color:n.showPopup?e.activeColor:""}},[t("div",{class:"van-ellipsis"},[n.displayTitle])])])}));return t("div",{ref:"menu",class:[l(),i["f"]]},[n,this.slots("default")])}})},"342a":function(e,t,n){"use strict";n("68ef"),n("09fe"),n("bff0")},"386e":function(e,t,n){"use strict";n.r(t);var a,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-cell-group",{staticStyle:{padding:"0 5px"}},[n("van-field",{attrs:{type:"number",size:"small",clearable:"",maxlength:"11",label:"手机号",placeholder:"请输入电话号码","error-message":e.phoneErrmsg},on:{blur:function(t){e.phoneErrmsg=""}},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),n("van-field",{attrs:{size:"small",clearable:"",maxlength:"15",label:"昵称",placeholder:"请输入昵称","error-message":e.nicknameErrmsg},on:{blur:function(t){e.nicknameErrmsg=""}},model:{value:e.nickname,callback:function(t){e.nickname=t},expression:"nickname"}}),n("van-field",{attrs:{size:"small",clearable:"",type:"password",label:"密码",placeholder:"请输入密码","error-message":e.passwdErrmsg},on:{blur:function(t){e.passwdErrmsg=""}},model:{value:e.passwd,callback:function(t){e.passwd=t},expression:"passwd"}}),n("van-field",{attrs:{size:"small",clearable:"",type:"password",label:"再次输入密码",placeholder:"请再次输入密码","error-message":e.secondPasswdErrmsg},on:{blur:function(t){e.secondPasswdErrmsg=""}},model:{value:e.secondPasswd,callback:function(t){e.secondPasswd=t},expression:"secondPasswd"}}),n("van-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[n("van-collapse-item",{attrs:{title:"性别",value:1==e.gender?"男":2==e.gender?"女":"未知",name:"1"}},[n("van-button",{staticStyle:{width:"50%"},on:{click:function(t){e.gender=1,e.activeNames.splice(e.activeNames.indexOf("1"),1)}}},[e._v("男")]),n("van-button",{staticStyle:{width:"50%"},on:{click:function(t){e.gender=2,e.activeNames.splice(e.activeNames.indexOf("1"),1)}}},[e._v("女")])],1)],1),n("van-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[n("van-collapse-item",{attrs:{title:"付款方式",value:"alipay"==e.payType?"支付宝支付":"微信支付",name:"2"}},[n("van-button",{staticStyle:{width:"50%"},on:{click:function(t){e.payType="alipay",e.activeNames.splice(e.activeNames.indexOf("2"),1)}}},[e._v("支付宝付款")]),n("van-button",{staticStyle:{width:"50%"},on:{click:function(t){e.payType="wechatpay",e.activeNames.splice(e.activeNames.indexOf("2"),1)}}},[e._v("微信付款")])],1)],1),n("van-cell",{attrs:{title:"头像"}},[n("van-uploader",{attrs:{"max-count":1},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}})],1),n("van-field",{attrs:{size:"small",label:"验证码",maxlength:"6",clearable:"",placeholder:"输入验证码","error-message":e.captchaErrmsg},on:{blur:function(t){e.captchaErrmsg=""}},model:{value:e.captcha,callback:function(t){e.captcha=t},expression:"captcha"}}),n("div",{staticStyle:{margin:"0 auto","text-align":"center"}},[n("img",{staticStyle:{width:"200px",height:"100px"},attrs:{src:e.captchaImg,alt:"验证码无法显示"},on:{click:e.oncaptchaClick}})])],1),n("div",{staticStyle:{bottom:"0",width:"100%"}},[n("div",{staticStyle:{padding:"15px"}},[n("van-button",{attrs:{size:"large",round:"",type:"danger"},on:{click:e.onSubmitClick}},[e._v("立即注册")])],1)])],1)},s=[],o=(n("f559"),n("e7e5"),n("d399")),r=(n("a481"),n("bd86")),c=(n("e930"),n("8f80")),l=(n("342a"),n("1437")),d=(n("5d17"),n("f9bd")),u=(n("61ae"),n("d314")),h=(n("09d3"),n("2d6d")),p=(n("2b28"),n("9ed2")),f=(n("66b9"),n("b650")),m=(n("0653"),n("34e9")),v=(n("c194"),n("7744")),b=(n("be7f"),n("565f")),g=(n("7f7f"),n("4056"),n("44bf")),w=n("d722"),y={components:(a={},Object(r["a"])(a,g["a"].name,g["a"]),Object(r["a"])(a,b["a"].name,b["a"]),Object(r["a"])(a,v["a"].name,v["a"]),Object(r["a"])(a,m["a"].name,m["a"]),Object(r["a"])(a,f["a"].name,f["a"]),Object(r["a"])(a,p["a"].name,p["a"]),Object(r["a"])(a,h["a"].name,h["a"]),Object(r["a"])(a,u["a"].name,u["a"]),Object(r["a"])(a,d["a"].name,d["a"]),Object(r["a"])(a,l["a"].name,l["a"]),Object(r["a"])(a,c["a"].name,c["a"]),a),data:function(){return{gender:1,payType:"alipay",phone:"",phoneErrmsg:"",nickname:"",nicknameErrmsg:"",passwd:"",passwdErrmsg:"",secondPasswd:"",secondPasswdErrmsg:"",captcha:"",captchaErrmsg:"",captcha_identifer:1,captchaImg:"",activeNames:[],image:[]}},methods:{purify_images:function(){return this.image[0].content.replace(/data:image\/[^;]+;base64,/i,"")},getCaptcha:function(){var e=this;w["b"].get(w["a"]+"captcha",{}).then((function(t){e.captcha_identifer=t.data.identifer,e.captchaImg="data:image/jpeg;base64,"+t.data.img})).catch((function(e){console.error(e)}))},oncaptchaClick:function(){this.getCaptcha()},onSubmitClick:function(){var e=this;this.phoneErrmsg=11!=this.phone.length?"手机号格式错误":"",this.nickname?this.nickname.replace(/[^a-zA-Z0-9\u4E00-\u9FA5@.]/g,"")||(this.nicknameErrmsg="昵称格式错误"):this.nicknameErrmsg="请输入昵称",this.passwdErrmsg=this.passwd?"":"请输入密码",this.secondPasswdErrmsg=this.secondPasswd!=this.passwd?"两次输入密码不一致":"",this.captchaErrmsg=this.captcha?"":"验证码输入错误",w["b"].post(w["a"]+"customer/register",{phone:this.phone,password:this.passwd,nickname:this.nickname,gender:this.gender,payment_info:this.payType,captcha_identifer:this.captcha_identifer,captcha_code:this.captcha,image:this.purify_images()}).then((function(){o["a"].success("注册成功"),e.$router.push({name:"login"})})).catch((function(t){"string"===typeof t.response.data.message?t.response.data.message.startsWith("Phone")?(Object(o["a"])("手机号已注册，请直接登录"),e.$router.push({name:"login"})):"Wrong captcha code!"==t.response.data.message&&(o["a"].fail("验证码错误"),e.getCaptcha()):o["a"].fail("注册失败，请重试"),console.error(t)}))}},mounted:function(){this.getCaptcha()}},O=y,k=(n("6e4e"),n("2877")),x=Object(k["a"])(O,i,s,!1,null,"a27a3400",null);t["default"]=x.exports},4056:function(e,t,n){"use strict";n("68ef"),n("09fe")},5147:function(e,t,n){var a=n("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,!"/./"[e](t)}catch(i){}}return!0}},"5d17":function(e,t,n){"use strict";n("68ef")},"61ae":function(e,t,n){"use strict";n("68ef"),n("09fe"),n("4d75"),n("b2cc")},"6e4e":function(e,t,n){"use strict";var a=n("0fae"),i=n.n(a);i.a},"7c7f":function(e,t,n){},9884:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var a=n("2b0e");function i(e){var t=[];function n(e){e.forEach((function(e){t.push(e),e.children&&n(e.children)}))}return n(e),t}function s(e,t){var n,s;void 0===t&&(t={});var o=t.indexKey||"index";return a["a"].extend({inject:(n={},n[e]={default:null},n),computed:(s={parent:function(){return this[e]}},s[o]=function(){return this.bindRelation(),this.parent.children.indexOf(this)},s),mounted:function(){this.bindRelation()},beforeDestroy:function(){var e=this;this.parent&&(this.parent.children=this.parent.children.filter((function(t){return t!==e})))},methods:{bindRelation:function(){if(this.parent&&-1===this.parent.children.indexOf(this)){var e=[].concat(this.parent.children,[this]),t=i(this.parent.slots());e.sort((function(e,n){return t.indexOf(e.$vnode)-t.indexOf(n.$vnode)})),this.parent.children=e}}}})}function o(e){return{provide:function(){var t;return t={},t[e]=this,t},data:function(){return{children:[]}}}}},"9ed2":function(e,t,n){"use strict";var a=n("2638"),i=n.n(a),s=n("d282"),o=n("ba31"),r=Object(s["a"])("divider"),c=r[0],l=r[1];function d(e,t,n,a){var s;return e("div",i()([{attrs:{role:"separator"},style:{borderColor:t.borderColor},class:l((s={dashed:t.dashed,hairline:t.hairline},s["content-"+t.contentPosition]=n.default,s))},Object(o["b"])(a,!0)]),[n.default&&n.default()])}d.props={dashed:Boolean,hairline:{type:Boolean,default:!0},contentPosition:{type:String,default:"center"}},t["a"]=c(d)},aec8:function(e,t,n){},b222:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("2b0e"),i=n("1325"),s=function(e){return a["a"].extend({props:{closeOnClickOutside:{type:Boolean,default:!0}},data:function(){var t=this,n=function(n){t.closeOnClickOutside&&!t.$el.contains(n.target)&&t[e.method]()};return{clickOutsideHandler:n}},mounted:function(){Object(i["b"])(document,e.event,this.clickOutsideHandler)},beforeDestroy:function(){Object(i["a"])(document,e.event,this.clickOutsideHandler)}})}},b2cc:function(e,t,n){},bff0:function(e,t,n){},c194:function(e,t,n){"use strict";n("68ef"),n("09fe")},d2c8:function(e,t,n){var a=n("aae3"),i=n("be13");e.exports=function(e,t,n){if(a(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},d314:function(e,t,n){"use strict";var a=n("d282"),i=n("7744"),s=n("ad06"),o=n("e41f"),r=n("9884"),c=Object(a["a"])("dropdown-item"),l=c[0],d=c[1];t["a"]=l({mixins:[Object(r["a"])("vanDropdownMenu")],props:{value:null,title:String,disabled:Boolean,titleClass:String,options:{type:Array,default:function(){return[]}}},data:function(){return{transition:!0,showPopup:!1,showWrapper:!1}},computed:{displayTitle:function(){var e=this;if(this.title)return this.title;var t=this.options.filter((function(t){return t.value===e.value}));return t.length?t[0].text:""}},methods:{toggle:function(e,t){void 0===e&&(e=!this.showPopup),void 0===t&&(t={}),e!==this.showPopup&&(this.transition=!t.immediate,this.showPopup=e,e&&(this.parent.updateOffset(),this.showWrapper=!0))}},beforeCreate:function(){var e=this,t=function(t){return function(){return e.$emit(t)}};this.onOpen=t("open"),this.onClose=t("close"),this.onOpened=t("opened")},render:function(){var e=this,t=arguments[0],n=this.parent,a=n.zIndex,r=n.offset,c=n.overlay,l=n.duration,u=n.direction,h=n.activeColor,p=n.closeOnClickOverlay,f=this.options.map((function(n){var a=n.value===e.value;return t(i["a"],{attrs:{clickable:!0,icon:n.icon,title:n.text},key:n.value,class:d("option",{active:a}),style:{color:a?h:""},on:{click:function(){e.showPopup=!1,n.value!==e.value&&(e.$emit("input",n.value),e.$emit("change",n.value))}}},[a&&t(s["a"],{class:d("icon"),attrs:{color:h,name:"success"}})])})),m={zIndex:a};return"down"===u?m.top=r+"px":m.bottom=r+"px",t("div",{directives:[{name:"show",value:this.showWrapper}],style:m,class:d([u])},[t(o["a"],{attrs:{overlay:c,position:"down"===u?"top":"bottom",duration:this.transition?l:0,closeOnClickOverlay:p,overlayStyle:{position:"absolute"}},class:d("content"),on:{open:this.onOpen,close:this.onClose,opened:this.onOpened,closed:function(){e.showWrapper=!1,e.$emit("closed")}},model:{value:e.showPopup,callback:function(t){e.showPopup=t}}},[f,this.slots("default")])])}})},e41f:function(e,t,n){"use strict";var a=n("d282"),i=n("a142"),s=n("6605"),o=n("ad06"),r=Object(a["a"])("popup"),c=r[0],l=r[1];t["a"]=c({mixins:[s["a"]],props:{round:Boolean,duration:Number,closeable:Boolean,transition:String,safeAreaInsetBottom:Boolean,closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"},position:{type:String,default:"center"},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},beforeCreate:function(){var e=this,t=function(t){return function(n){return e.$emit(t,n)}};this.onClick=t("click"),this.onOpened=t("opened"),this.onClosed=t("closed")},render:function(){var e,t=arguments[0];if(this.shouldRender){var n=this.round,a=this.position,s=this.duration,r=this.transition||("center"===a?"van-fade":"van-popup-slide-"+a),c={};return Object(i["b"])(s)&&(c.transitionDuration=s+"s"),t("transition",{attrs:{name:r},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],style:c,class:l((e={round:n},e[a]=a,e["safe-area-inset-bottom"]=this.safeAreaInsetBottom,e)),on:{click:this.onClick}},[this.slots(),this.closeable&&t(o["a"],{attrs:{name:this.closeIcon},class:l("close-icon",this.closeIconPosition),on:{click:this.close}})])])}}})},f559:function(e,t,n){"use strict";var a=n("5ca1"),i=n("9def"),s=n("d2c8"),o="startsWith",r=""[o];a(a.P+a.F*n("5147")(o),"String",{startsWith:function(e){var t=s(this,e,o),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),a=String(e);return r?r.call(t,a,n):t.slice(n,n+a.length)===a}})},f9bd:function(e,t,n){"use strict";var a=n("d282"),i=n("9884"),s=n("b1d2"),o=Object(a["a"])("collapse"),r=o[0],c=o[1];t["a"]=r({mixins:[Object(i["b"])("vanCollapse")],props:{accordion:Boolean,value:[String,Number,Array],border:{type:Boolean,default:!0}},methods:{switch:function(e,t){this.accordion||(e=t?this.value.concat(e):this.value.filter((function(t){return t!==e}))),this.$emit("change",e),this.$emit("input",e)}},render:function(){var e,t=arguments[0];return t("div",{class:[c(),(e={},e[s["f"]]=this.border,e)]},[this.slots()])}})}}]);
//# sourceMappingURL=chunk-3d193c05.2333bebb.js.map