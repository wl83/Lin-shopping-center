(function(e){function t(t){for(var r,a,u=t[0],i=t[1],h=t[2],s=0,l=[];s<u.length;s++)a=u[s],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&l.push(c[a][0]),c[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);f&&f(t);while(l.length)l.shift()();return o.push.apply(o,h||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==c[u]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},c={app:0},o=[];function u(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-0ed62b75":"a2fae960","chunk-10dcd83a":"7aef8315","chunk-14f27242":"51d8a6b4","chunk-4cbf7b57":"ad78aa27","chunk-4e3ecf9a":"addf0e70","chunk-5874a9f0":"5a147046","chunk-22fcdf00":"5eead189","chunk-2839621a":"38cdc461","chunk-2d0ceeda":"3c997507","chunk-5c15474c":"8219b511","chunk-6a1ac982":"251a39f7","chunk-9dcd2348":"69cd059a","chunk-f137448c":"fff90a2d","chunk-f4172ef2":"315a58c7","chunk-3d193c05":"2333bebb","chunk-ec0ae7d2":"2beefe10","chunk-f798df28":"f39b0afc","chunk-59e06e9e":"a3d4a878","chunk-c1387fcc":"33dc7e29","chunk-cabadb34":"879c8eed","chunk-34bba516":"37ff04ef","chunk-60418ed2":"9bdab65a","chunk-d13d0e4e":"411b7b54"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-0ed62b75":1,"chunk-10dcd83a":1,"chunk-14f27242":1,"chunk-4cbf7b57":1,"chunk-4e3ecf9a":1,"chunk-5874a9f0":1,"chunk-22fcdf00":1,"chunk-2839621a":1,"chunk-5c15474c":1,"chunk-6a1ac982":1,"chunk-9dcd2348":1,"chunk-f137448c":1,"chunk-f4172ef2":1,"chunk-3d193c05":1,"chunk-f798df28":1,"chunk-59e06e9e":1,"chunk-c1387fcc":1,"chunk-cabadb34":1,"chunk-34bba516":1,"chunk-60418ed2":1,"chunk-d13d0e4e":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-0ed62b75":"262390a8","chunk-10dcd83a":"8c53d700","chunk-14f27242":"4ec0d315","chunk-4cbf7b57":"c59b737d","chunk-4e3ecf9a":"39b4a3f6","chunk-5874a9f0":"dc727958","chunk-22fcdf00":"5d0589af","chunk-2839621a":"849c55f7","chunk-2d0ceeda":"31d6cfe0","chunk-5c15474c":"0d011319","chunk-6a1ac982":"5eff998f","chunk-9dcd2348":"e928fa14","chunk-f137448c":"c09eea47","chunk-f4172ef2":"35a431ea","chunk-3d193c05":"81c1382c","chunk-ec0ae7d2":"31d6cfe0","chunk-f798df28":"20a7ef02","chunk-59e06e9e":"195eacda","chunk-c1387fcc":"88598c40","chunk-cabadb34":"0946e255","chunk-34bba516":"52842350","chunk-60418ed2":"66165bd9","chunk-d13d0e4e":"09a3faa9"}[e]+".css",c=i.p+r,o=document.getElementsByTagName("link"),u=0;u<o.length;u++){var h=o[u],s=h.getAttribute("data-href")||h.getAttribute("href");if("stylesheet"===h.rel&&(s===r||s===c))return t()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){h=l[u],s=h.getAttribute("data-href");if(s===r||s===c)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||c,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[e],f.parentNode.removeChild(f),n(o)},f.href=c;var d=document.getElementsByTagName("head")[0];d.appendChild(f)})).then((function(){a[e]=0})));var r=c[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=c[e]=[t,n]}));t.push(r[2]=o);var h,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=u(e);var l=new Error;h=function(t){s.onerror=s.onload=null,clearTimeout(f);var n=c[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,n[1](l)}c[e]=void 0}};var f=setTimeout((function(){h({type:"timeout",target:s})}),12e4);s.onerror=s.onload=h,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var h=window["webpackJsonp"]=window["webpackJsonp"]||[],s=h.push.bind(h);h.push=t,h=h.slice();for(var l=0;l<h.length;l++)t(h[l]);var f=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("64a9"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("navbar",{staticClass:"navbar"}),n("div",{staticClass:"router-page"},[n("transition",{attrs:{name:e.$store.state.transition}},[n("router-view")],1)],1)],1)},c=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.$route.meta.hideNavBar?e._e():n("van-nav-bar",{attrs:{title:e.$route.meta.title},on:{"click-left":e.onClickBack,"click-right":e.onClickRight}},[n("div",{attrs:{slot:"left"},slot:"left"},[e.$route.meta.left?e._e():n("span",[n("i",{staticClass:"fa fa-angle-left fa-lg",attrs:{"aria-hidden":"true"}}),e._v("\n        返回\n      ")]),"home"==e.$route.meta.left?n("span",[e._v("主页")]):e._e()]),n("div",{attrs:{slot:"right"},slot:"right"},[e.$route.meta.right?"shop-center"==e.$route.meta.right?n("i",{staticClass:"fa fa-cog fa-lg",attrs:{"aria-hidden":"true"}}):"edit"==e.$route.meta.right?n("i",{staticClass:"fa fa-pencil-square-o",attrs:{"aria-hidden":"true"}}):e._e():n("i",{staticClass:"fa fa-user-circle fa-lg",attrs:{"aria-hidden":"true"}})])])],1)},u=[],i=(n("a481"),n("bd86")),h=(n("7f7f"),n("5246"),n("6b41")),s={components:Object(i["a"])({},h["a"].name,h["a"]),methods:{onClickBack:function(){this.$store.commit("SET_TRANSITION","right"),this.$route.meta.leftTo?"home"==this.$route.meta.leftTo?this.$router.replace({name:"home"}):this.$router.push(this.$route.meta.leftTo):this.$router.go(-1)},onClickRight:function(){this.$store.commit("SET_TRANSITION","left"),this.$store.state.shop_token?this.$router.push({name:this.$route.meta.rightTo||"shopArrange"}):this.$router.push({name:this.$route.meta.rightTo||"userCenter"})}}},l=s,f=n("2877"),d=Object(f["a"])(l,o,u,!1,null,null,null),m=d.exports,p={components:{navbar:m}},k=p,b=(n("034f"),Object(f["a"])(k,a,c,!1,null,null,null)),g=b.exports,v=(n("28a5"),n("8c4f")),_=n("2f62");r["a"].use(_["a"]);var T=new _["a"].Store({state:{shop_token:window.sessionStorage.getItem("shop_token"),customer_token:window.sessionStorage.getItem("customer_token"),customer_id:0,transition:"van-slide-left"},mutations:{SET_CUSTOMER_ID:function(e,t){e.customer_id=t},SET_SHOP_TOKEN:function(e,t){e.shop_token=t,window.sessionStorage.setItem("shop_token",t)},SET_CUSTOMER_TOKEN:function(e,t){e.customer_token=t,window.sessionStorage.setItem("customer_token",t)},CUSTOMER_LOGOUT:function(e){e.customer_token=null,window.sessionStorage.removeItem("customer_token")},SHOP_LOGOUT:function(e){e.shop_token=null,window.sessionStorage.removeItem("shop_token")},SET_TRANSITION:function(e,t){t.length>0?e.transition="slide-"+t:e.transition=""}},actions:{}}),S=n("d722");r["a"].use(v["a"]);var w=new v["a"]({routes:[{path:"/",name:"home",component:function(){return Promise.all([n.e("chunk-cabadb34"),n.e("chunk-60418ed2")]).then(n.bind(null,"77b8"))},meta:{title:"主页",left:-1},alise:"/home"},{path:"/user/login",name:"login",meta:{title:"",right:-1,leftTo:"home"},component:function(){return Promise.all([n.e("chunk-5874a9f0"),n.e("chunk-f798df28")]).then(n.bind(null,"71a8"))}},{path:"/user/register",name:"register",meta:{title:"注册",right:-1},component:function(){return Promise.all([n.e("chunk-5874a9f0"),n.e("chunk-f4172ef2"),n.e("chunk-3d193c05")]).then(n.bind(null,"386e"))}},{path:"/user",name:"userCenter",meta:{title:"个人中心",right:-1,requiresAuth:!0},component:function(){return n.e("chunk-4e3ecf9a").then(n.bind(null,"31d1"))}},{path:"/user/addrlist",name:"addrList",meta:{title:"地址列表",right:-1,requiresAuth:!0},component:function(){return n.e("chunk-4cbf7b57").then(n.bind(null,"586f"))}},{path:"/user/addrlist/edit",name:"addrEdit",meta:{title:"地址编辑",right:-1,requiresAuth:!0},component:function(){return Promise.all([n.e("chunk-5874a9f0"),n.e("chunk-2d0ceeda")]).then(n.bind(null,"6219"))}},{path:"/user/cart",name:"cart",meta:{title:"购物车",right:-1,requiresAuth:!0},component:function(){return n.e("chunk-d13d0e4e").then(n.bind(null,"ec36"))}},{path:"/user/reviews/:customer_id",name:"reviews",meta:{title:"历史评价",right:-1,requiresAuth:!0},component:function(){return Promise.all([n.e("chunk-5874a9f0"),n.e("chunk-9dcd2348")]).then(n.bind(null,"0818"))}},{path:"/user/cart/submit",name:"submit",meta:{title:"确认订单",right:-1,requiresAuth:!0},props:{totalPrice:0},component:function(){return n.e("chunk-0ed62b75").then(n.bind(null,"dc98"))}},{path:"/user/orderlist",name:"orderlist",meta:{title:"订单列表",right:-1,requiresAuth:!0},component:function(){return n.e("chunk-14f27242").then(n.bind(null,"3698"))}},{path:"/user/orderlist/:order_id",name:"detail",meta:{title:"订单详情",right:-1,requiresAuth:!0},component:function(){return n.e("chunk-c1387fcc").then(n.bind(null,"9dd3"))}},{path:"/user/orderlist/:order_id/review/:item_id",name:"review",meta:{title:"评价",right:-1,requiresAuth:!0},component:function(){return Promise.all([n.e("chunk-5874a9f0"),n.e("chunk-2839621a")]).then(n.bind(null,"6cf0"))}},{path:"/item/:item_id",name:"item",meta:{title:"商品详情"},component:function(){return Promise.all([n.e("chunk-5874a9f0"),n.e("chunk-22fcdf00")]).then(n.bind(null,"e9a6"))}},{path:"/search",name:"searchResult",meta:{title:"搜索结果"},component:function(){return n.e("chunk-10dcd83a").then(n.bind(null,"151a"))},beforeRouteUpdate:function(e){e()}},{path:"/shop/login",name:"shopLogin",meta:{title:"",right:-1,leftTo:"home"},component:function(){return Promise.all([n.e("chunk-5874a9f0"),n.e("chunk-5c15474c")]).then(n.bind(null,"3dfe"))}},{path:"/shop/register",name:"shopRegister",meta:{title:"店铺注册",right:-1},component:function(){return Promise.all([n.e("chunk-5874a9f0"),n.e("chunk-6a1ac982")]).then(n.bind(null,"8d37"))}},{path:"/shop/management",name:"shopArrange",meta:{title:"店铺管理",requiresShopAuth:!0,leftTo:"home",right:-1},component:function(){return Promise.all([n.e("chunk-5874a9f0"),n.e("chunk-f137448c")]).then(n.bind(null,"fae4"))}},{path:"/shop/:shop_id",name:"shop",meta:{title:"店铺主页"},component:function(){return Promise.all([n.e("chunk-cabadb34"),n.e("chunk-34bba516")]).then(n.bind(null,"24e5"))}},{path:"/shop/edititem/:editType/:item_id",name:"edititem",meta:{title:"添加商品",right:-1},component:function(){return Promise.all([n.e("chunk-5874a9f0"),n.e("chunk-f4172ef2"),n.e("chunk-ec0ae7d2")]).then(n.bind(null,"4bd5"))}},{path:"/shop/orderList/:shop_id",name:"shopOrderList",meta:{title:"订单列表",right:-1},component:function(){return n.e("chunk-59e06e9e").then(n.bind(null,"d6af"))}}]});w.beforeEach((function(e,t,n){if(null==t.name)T.commit("SET_TRANSITION","");else{var r=e.path.split("/").length,a=t.path.split("/").length;"/"==e.path&&(r-=1),"/"==t.path&&(a-=1),r<a?T.commit("SET_TRANSITION","right"):r>a&&T.commit("SET_TRANSITION","left")}if(e.matched.some((function(e){return e.meta.requiresAuth}))){var c=T.state.customer_token;c?S["b"].get(S["a"]+"customer",{headers:{authorization:c}}).then(n).catch((function(){n({name:"login"})})):n({name:"login"})}else if(e.matched.some((function(e){return e.meta.requiresShopAuth}))){var o=T.state.shop_token;o?S["b"].get(S["a"]+"shop",{headers:{authorization:o}}).then(n).catch((function(){n({name:"shopLogin"})})):n({name:"shopLogin"})}else n()}));var O=w;r["a"].config.productionTip=!1,new r["a"]({router:O,store:T,render:function(e){return e(g)}}).$mount("#app")},"64a9":function(e,t,n){},d722:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return o}));var r=n("bc3a"),a=n.n(r);n.d(t,"b",(function(){return a.a}));var c="/api/",o=function(e,t){var n;return function(){var r=arguments,a=this;n||(e.apply(a,r),n=!0,setTimeout((function(){return n=!1}),t))}}}});
//# sourceMappingURL=app.9829f0ab.js.map