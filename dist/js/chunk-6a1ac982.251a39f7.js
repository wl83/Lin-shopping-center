(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a1ac982"],{"0653":function(e,a,t){"use strict";t("68ef")},"2b28":function(e,a,t){"use strict";t("68ef"),t("7c7f")},"34e9":function(e,a,t){"use strict";var s=t("2638"),r=t.n(s),c=t("d282"),n=t("ba31"),o=t("b1d2"),i=Object(c["a"])("cell-group"),l=i[0],h=i[1];function d(e,a,t,s){var c,i=e("div",r()([{class:[h(),(c={},c[o["f"]]=a.border,c)]},Object(n["b"])(s,!0)]),[t.default&&t.default()]);return a.title||t.title?e("div",[e("div",{class:h("title")},[t.title?t.title():a.title]),i]):i}d.props={title:String,border:{type:Boolean,default:!0}},a["a"]=l(d)},4056:function(e,a,t){"use strict";t("68ef"),t("09fe")},5147:function(e,a,t){var s=t("2b4c")("match");e.exports=function(e){var a=/./;try{"/./"[e](a)}catch(t){try{return a[s]=!1,!"/./"[e](a)}catch(r){}}return!0}},"7c7f":function(e,a,t){},"8d37":function(e,a,t){"use strict";t.r(a);var s,r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("van-cell-group",[t("van-field",{attrs:{size:"small",clearable:"",label:"店铺名称",maxlength:"20",placeholder:"请输入店铺名称","error-message":e.shopNameErrmsg},on:{blur:function(a){e.shopNameErrmsg=""}},model:{value:e.shopName,callback:function(a){e.shopName=a},expression:"shopName"}}),t("van-field",{attrs:{type:"textarea",size:"small",clearable:"",label:"店铺简介",autosize:!0,rows:"2",placeholder:"请输入店铺简介","error-message":e.shopDiscErrmsg},on:{blur:function(a){e.shopDiscErrmsg=""}},model:{value:e.shopDisc,callback:function(a){e.shopDisc=a},expression:"shopDisc"}}),t("van-field",{attrs:{type:"textarea",size:"small",label:"店铺地址",clearable:"",autosize:!0,rows:"2",placeholder:"请输入店铺地址","error-message":e.shopAddrErrmsg},on:{blur:function(a){e.shopAddrErrmsg=""}},model:{value:e.shopAddr,callback:function(a){e.shopAddr=a},expression:"shopAddr"}}),t("van-field",{attrs:{type:"number",size:"small",clearable:"",label:"手机号",maxlength:"11",placeholder:"请输入电话号码","error-message":e.phoneErrmsg},on:{blur:function(a){e.phoneErrmsg=""}},model:{value:e.phone,callback:function(a){e.phone=a},expression:"phone"}}),t("van-field",{attrs:{size:"small",clearable:"",label:"密码",type:"password",placeholder:"请输入密码","error-message":e.passwdErrmsg},on:{blur:function(a){e.passwdErrmsg=""}},model:{value:e.passwd,callback:function(a){e.passwd=a},expression:"passwd"}}),t("van-field",{attrs:{size:"small",clearable:"",type:"password",label:"再次输入密码",placeholder:"请再次输入密码","error-message":e.secondPasswdErrmsg},on:{blur:function(a){e.secondPasswdErrmsg=""}},model:{value:e.secondPasswd,callback:function(a){e.secondPasswd=a},expression:"secondPasswd"}}),t("van-field",{attrs:{size:"small",label:"验证码",maxlength:"6",clearable:"",placeholder:"输入验证码","error-message":e.captchaErrmsg},on:{blur:function(a){e.captchaErrmsg=""}},model:{value:e.captcha,callback:function(a){e.captcha=a},expression:"captcha"}}),t("div",{staticStyle:{margin:"0 auto","text-align":"center"}},[t("img",{staticStyle:{width:"200px",height:"100px"},attrs:{src:e.captchaImg,alt:"验证码无法显示"},on:{click:e.oncaptchaClick}})])],1),t("div",{staticStyle:{bottom:"0",width:"100%"}},[t("div",{staticStyle:{padding:"15px"}},[t("van-button",{attrs:{size:"large",round:"",type:"danger"},on:{click:e.onSubmitClick}},[e._v("立即注册")])],1)])],1)},c=[],n=(t("f559"),t("e7e5"),t("d399")),o=(t("a481"),t("bd86")),i=(t("2b28"),t("9ed2")),l=(t("66b9"),t("b650")),h=(t("0653"),t("34e9")),d=(t("c194"),t("7744")),p=(t("be7f"),t("565f")),u=(t("7f7f"),t("4056"),t("44bf")),m=t("d722"),f={components:(s={},Object(o["a"])(s,u["a"].name,u["a"]),Object(o["a"])(s,p["a"].name,p["a"]),Object(o["a"])(s,d["a"].name,d["a"]),Object(o["a"])(s,h["a"].name,h["a"]),Object(o["a"])(s,l["a"].name,l["a"]),Object(o["a"])(s,i["a"].name,i["a"]),s),data:function(){return{shopName:"",shopNameErrmsg:"",shopDisc:"",shopDiscErrmsg:"",shopAddr:"",shopAddrErrmsg:"",phone:"",phoneErrmsg:"",passwd:"",passwdErrmsg:"",secondPasswd:"",secondPasswdErrmsg:"",captcha_identifer:"",captcha_code:"",captchaErrmsg:"",captcha:"",captchaImg:""}},methods:{getCaptcha:function(){var e=this;m["b"].get(m["a"]+"captcha",{}).then((function(a){e.captcha_identifer=a.data.identifer,e.captchaImg="data:image/jpeg;base64,"+a.data.img})).catch((function(e){console.error(e)}))},oncaptchaClick:function(){this.getCaptcha()},onSubmitClick:function(){var e=this;this.shopName?this.shopName.replace(/[^a-zA-Z0-9\u4E00-\u9FA5@.]/g,"")||(this.shopNameErrmsg="店铺名称格式错误"):this.shopNameErrmsg="请输入店铺名称",this.shopDiscErrmsg=this.shopDisc?"":"请输入店铺简介",this.captchaErrmsg=this.captcha?"":"请输入验证码",this.shopAddrErrmsg=this.shopAddr?"":"请输入地址信息",this.phoneErrmsg=11!=this.phone.length?"手机号格式错误":"",this.passwdErrmsg=this.passwd?"":"请输入密码",this.secondPasswdErrmsg=this.secondPasswd!=this.passwd?"两次输入密码不一致":"",m["b"].post(m["a"]+"shop/create",{phone:this.phone,password:this.passwd,name:this.shopName,info:this.shopDisc,address:this.shopAddr,captcha_identifer:this.captcha_identifer,captcha_code:this.captcha}).then((function(){n["a"].success("商店注册成功"),e.$router.push({name:"shopLogin"})})).catch((function(a){"string"===typeof a.response.data.message?a.response.data.message.startsWith("Phone")?(Object(n["a"])("手机号已注册，请直接登录"),e.$router.push({name:"login"})):"Wrong captcha code!"==a.response.data.message&&(n["a"].fail("验证码错误"),e.getCaptcha()):n["a"].fail("注册失败，请重试"),console.error(a)}))}},mounted:function(){this.getCaptcha()}},g=f,b=t("2877"),v=Object(b["a"])(g,r,c,!1,null,null,null);a["default"]=v.exports},"9ed2":function(e,a,t){"use strict";var s=t("2638"),r=t.n(s),c=t("d282"),n=t("ba31"),o=Object(c["a"])("divider"),i=o[0],l=o[1];function h(e,a,t,s){var c;return e("div",r()([{attrs:{role:"separator"},style:{borderColor:a.borderColor},class:l((c={dashed:a.dashed,hairline:a.hairline},c["content-"+a.contentPosition]=t.default,c))},Object(n["b"])(s,!0)]),[t.default&&t.default()])}h.props={dashed:Boolean,hairline:{type:Boolean,default:!0},contentPosition:{type:String,default:"center"}},a["a"]=i(h)},c194:function(e,a,t){"use strict";t("68ef"),t("09fe")},d2c8:function(e,a,t){var s=t("aae3"),r=t("be13");e.exports=function(e,a,t){if(s(a))throw TypeError("String#"+t+" doesn't accept regex!");return String(r(e))}},f559:function(e,a,t){"use strict";var s=t("5ca1"),r=t("9def"),c=t("d2c8"),n="startsWith",o=""[n];s(s.P+s.F*t("5147")(n),"String",{startsWith:function(e){var a=c(this,e,n),t=r(Math.min(arguments.length>1?arguments[1]:void 0,a.length)),s=String(e);return o?o.call(a,s,t):a.slice(t,t+s.length)===s}})}}]);
//# sourceMappingURL=chunk-6a1ac982.251a39f7.js.map